%include "io.inc"

section .data
    ; Пример данных в памяти
    mem_0006 dd 0   ; Резервируем память по адресу 0006 (для результата)
    mem_0007 dd 7    ; Резервируем память по адресу 0007 (значение 7)

section .bss

section .text
global CMAIN
CMAIN:
    mov ebp, esp    ; Для корректной отладки

    mov AH, 6       ; Загружаем 6 в AH
    mov BL, 7       ; Загружаем 7 в BL

    ; Выполнение операции AH - [0007] - BL + 6
    movzx eax, AH   ; Копируем AH в EAX (без знаков)
    sub eax, [mem_0007] ; Вычитаем значение по адресу [0007]
    movzx ebx, BL   ; Копируем BL в EBX (без знаков)
    sub eax, ebx    ; Вычитаем BL
    add eax, 6      ; Добавляем 6

    ; Сохранение результата в память по адресу [0006]
    mov [mem_0006], eax

    ; Завершение программы
    xor eax, eax    ; Возвращаем 0 (успешное завершение)
    ret